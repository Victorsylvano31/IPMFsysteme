# Generated by Django 5.2.7 on 2025-10-30 20:07

import django.utils.timezone
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
    ]

    operations = [
        migrations.CreateModel(
            name='AuditLog',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('action_type', models.CharField(choices=[('create', 'ğŸ†• CrÃ©ation'), ('read', 'ğŸ‘ï¸ Consultation'), ('update', 'âœï¸ Modification'), ('delete', 'ğŸ—‘ï¸ Suppression'), ('login', 'ğŸ” Connexion'), ('logout', 'ğŸšª DÃ©connexion'), ('export', 'ğŸ“¤ Export'), ('import', 'ğŸ“¥ Import'), ('validation', 'âœ… Validation'), ('rejet', 'âŒ Rejet'), ('system', 'âš™ï¸ SystÃ¨me')], max_length=20, verbose_name="Type d'action")),
                ('module', models.CharField(choices=[('users', 'ğŸ‘¥ Utilisateurs'), ('finances', 'ğŸ’° Finances'), ('tasks', 'ğŸ“‹ TÃ¢ches'), ('dashboard', 'ğŸ“Š Dashboard'), ('audit', 'ğŸ” Audit'), ('system', 'âš™ï¸ SystÃ¨me'), ('auth', 'ğŸ” Authentification')], max_length=20, verbose_name='Module')),
                ('niveau', models.CharField(choices=[('info', 'â„¹ï¸ Information'), ('warning', 'âš ï¸ Avertissement'), ('error', 'ğŸ”´ Erreur'), ('critical', 'ğŸ’¥ Critique')], default='info', max_length=20, verbose_name='Niveau')),
                ('timestamp', models.DateTimeField(default=django.utils.timezone.now, verbose_name='Date et heure')),
                ('ip_address', models.GenericIPAddressField(blank=True, null=True, verbose_name='Adresse IP')),
                ('user_agent', models.TextField(blank=True, verbose_name='User Agent')),
                ('objet_type', models.CharField(blank=True, max_length=100, verbose_name="Type d'objet")),
                ('objet_id', models.CharField(blank=True, max_length=100, verbose_name="ID de l'objet")),
                ('objet_repr', models.CharField(blank=True, max_length=255, verbose_name="ReprÃ©sentation de l'objet")),
                ('message', models.TextField(verbose_name='Message')),
                ('anciennes_valeurs', models.JSONField(blank=True, null=True, verbose_name='Anciennes valeurs')),
                ('nouvelles_valeurs', models.JSONField(blank=True, null=True, verbose_name='Nouvelles valeurs')),
                ('differences', models.JSONField(blank=True, null=True, verbose_name='DiffÃ©rences')),
                ('session_key', models.CharField(blank=True, max_length=100, verbose_name='ClÃ© de session')),
                ('url', models.URLField(blank=True, verbose_name='URL')),
                ('method', models.CharField(blank=True, max_length=10, verbose_name='MÃ©thode HTTP')),
                ('status_code', models.IntegerField(blank=True, null=True, verbose_name='Code statut HTTP')),
                ('duration', models.FloatField(blank=True, null=True, verbose_name='DurÃ©e (ms)')),
            ],
            options={
                'verbose_name': "ğŸ“ EntrÃ©e d'audit",
                'verbose_name_plural': "ğŸ“ EntrÃ©es d'audit",
                'ordering': ['-timestamp'],
            },
        ),
        migrations.CreateModel(
            name='ExportHistory',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('timestamp', models.DateTimeField(default=django.utils.timezone.now, verbose_name='Date et heure')),
                ('format', models.CharField(choices=[('excel', 'ğŸ“Š Excel'), ('pdf', 'ğŸ“„ PDF'), ('csv', 'ğŸ“‹ CSV'), ('json', 'ğŸ”¤ JSON')], max_length=10, verbose_name='Format')),
                ('module', models.CharField(choices=[('users', 'ğŸ‘¥ Utilisateurs'), ('finances', 'ğŸ’° Finances'), ('tasks', 'ğŸ“‹ TÃ¢ches'), ('dashboard', 'ğŸ“Š Dashboard'), ('audit', 'ğŸ” Audit'), ('system', 'âš™ï¸ SystÃ¨me'), ('auth', 'ğŸ” Authentification')], max_length=20, verbose_name='Module')),
                ('fichier', models.FileField(upload_to='exports/%Y/%m/', verbose_name='Fichier exportÃ©')),
                ('parametres', models.JSONField(default=dict, verbose_name="ParamÃ¨tres d'export")),
                ('nombre_lignes', models.IntegerField(blank=True, null=True, verbose_name='Nombre de lignes')),
                ('taille_fichier', models.BigIntegerField(verbose_name='Taille du fichier (octets)')),
                ('ip_address', models.GenericIPAddressField(blank=True, null=True, verbose_name='Adresse IP')),
            ],
            options={
                'verbose_name': "ğŸ“¤ Historique d'export",
                'verbose_name_plural': "ğŸ“¤ Historiques d'export",
                'ordering': ['-timestamp'],
            },
        ),
        migrations.CreateModel(
            name='LoginHistory',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('timestamp', models.DateTimeField(default=django.utils.timezone.now, verbose_name='Date et heure')),
                ('ip_address', models.GenericIPAddressField(verbose_name='Adresse IP')),
                ('user_agent', models.TextField(blank=True, verbose_name='User Agent')),
                ('reussi', models.BooleanField(default=True, verbose_name='Connexion rÃ©ussie')),
                ('raison_echec', models.CharField(blank=True, max_length=100, verbose_name="Raison de l'Ã©chec")),
                ('session_key', models.CharField(blank=True, max_length=100, verbose_name='ClÃ© de session')),
            ],
            options={
                'verbose_name': 'ğŸ” Historique de connexion',
                'verbose_name_plural': 'ğŸ” Historiques de connexion',
                'ordering': ['-timestamp'],
            },
        ),
        migrations.CreateModel(
            name='SystemHealthLog',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('timestamp', models.DateTimeField(default=django.utils.timezone.now, verbose_name='Date et heure')),
                ('type_check', models.CharField(choices=[('performance', 'âš¡ Performance'), ('security', 'ğŸ›¡ï¸ SÃ©curitÃ©'), ('database', 'ğŸ—„ï¸ Base de donnÃ©es'), ('storage', 'ğŸ’¾ Stockage'), ('network', 'ğŸŒ RÃ©seau'), ('backup', 'ğŸ“¦ Sauvegarde'), ('cleanup', 'ğŸ§¹ Nettoyage')], max_length=20, verbose_name='Type de vÃ©rification')),
                ('niveau', models.CharField(choices=[('info', 'â„¹ï¸ Information'), ('warning', 'âš ï¸ Avertissement'), ('error', 'ğŸ”´ Erreur'), ('critical', 'ğŸ’¥ Critique')], max_length=20, verbose_name='Niveau')),
                ('composant', models.CharField(max_length=100, verbose_name='Composant')),
                ('message', models.TextField(verbose_name='Message')),
                ('metriques', models.JSONField(default=dict, verbose_name='MÃ©triques')),
                ('duree_execution', models.FloatField(blank=True, null=True, verbose_name="DurÃ©e d'exÃ©cution (ms)")),
            ],
            options={
                'verbose_name': 'â¤ï¸ Journal de santÃ© systÃ¨me',
                'verbose_name_plural': 'â¤ï¸ Journaux de santÃ© systÃ¨me',
                'ordering': ['-timestamp'],
            },
        ),
    ]
