# Generated by Django 5.2.7 on 2025-10-30 20:07

import django.core.validators
from decimal import Decimal
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
    ]

    operations = [
        migrations.CreateModel(
            name='CommentaireTache',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('message', models.TextField()),
                ('date_creation', models.DateTimeField(auto_now_add=True)),
            ],
            options={
                'verbose_name': 'ğŸ’¬ Commentaire de tÃ¢che',
                'verbose_name_plural': 'ğŸ’¬ Commentaires de tÃ¢che',
                'ordering': ['-date_creation'],
            },
        ),
        migrations.CreateModel(
            name='Tache',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('numero', models.CharField(editable=False, max_length=20, unique=True, verbose_name='NumÃ©ro')),
                ('titre', models.CharField(max_length=200, verbose_name='Titre')),
                ('description', models.TextField(verbose_name='Description')),
                ('date_creation', models.DateTimeField(auto_now_add=True, verbose_name='Date de crÃ©ation')),
                ('date_echeance', models.DateField(verbose_name="Date d'Ã©chÃ©ance")),
                ('priorite', models.CharField(choices=[('basse', 'ğŸŸ¢ Basse'), ('moyenne', 'ğŸŸ¡ Moyenne'), ('haute', 'ğŸ”´ Haute'), ('urgente', 'âš ï¸ Urgente')], default='moyenne', max_length=20, verbose_name='PrioritÃ©')),
                ('statut', models.CharField(choices=[('creee', 'ğŸŸ¡ CrÃ©Ã©e'), ('en_cours', 'ğŸ”µ En cours'), ('terminee', 'ğŸŸ¢ TerminÃ©e'), ('validee', 'âœ… ValidÃ©e'), ('annulee', 'ğŸ”´ AnnulÃ©e')], default='creee', max_length=20, verbose_name='Statut')),
                ('budget_alloue', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True, validators=[django.core.validators.MinValueValidator(Decimal('0.00'))], verbose_name='Budget allouÃ© (Ar)')),
                ('resultat', models.TextField(blank=True, verbose_name='RÃ©sultat')),
                ('piece_jointe_resultat', models.FileField(blank=True, null=True, upload_to='taches/resultats/%Y/%m/', verbose_name='PiÃ¨ce jointe (rÃ©sultat)')),
                ('date_debut_reelle', models.DateTimeField(blank=True, null=True, verbose_name='Date de dÃ©but rÃ©elle')),
                ('date_fin_reelle', models.DateTimeField(blank=True, null=True, verbose_name='Date de fin rÃ©elle')),
                ('commentaire_validation', models.TextField(blank=True, verbose_name='Commentaire de validation')),
                ('date_validation', models.DateTimeField(blank=True, null=True, verbose_name='Date de validation')),
            ],
            options={
                'verbose_name': 'ğŸ“‹ TÃ¢che',
                'verbose_name_plural': 'ğŸ“‹ TÃ¢ches',
                'ordering': ['-date_creation'],
                'permissions': [('can_assign_tasks', 'Peut assigner des tÃ¢ches'), ('can_validate_tasks', 'Peut valider des tÃ¢ches')],
            },
        ),
    ]
